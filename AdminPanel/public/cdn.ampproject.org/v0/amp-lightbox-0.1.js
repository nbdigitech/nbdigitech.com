(self.AMP=self.AMP||[]).push({n:"amp-lightbox",v:"1902081532110",f:(function(AMP,_){
var f,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},l;if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var m;a:{var ba={a:!0},n={};try{n.__proto__=ba;m=n.a;break a}catch(a){}m=!1}l=m?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var p=l;
function q(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(p)p(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Da=b.prototype};function r(){this.l=null}f=r.prototype;f.add=function(a){var b=this;this.l||(this.l=[]);this.l.push(a);return function(){b.remove(a)}};f.remove=function(a){this.l&&(a=this.l.indexOf(a),-1<a&&this.l.splice(a,1))};f.removeAll=function(){this.l&&(this.l.length=0)};f.fire=function(a){if(this.l)for(var b=this.l,c=0;c<b.length;c++)(0,b[c])(a)};f.getHandlerCount=function(){return this.l?this.l.length:0};function v(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var ca=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function w(a){var b=Object.create(null);if(!a)return b;for(var c;c=ca.exec(a);){var d=v(c[1],c[1]),e=c[2]?v(c[2],c[2]):"";b[d]=e}return b};var x="";
function y(a){var b=a||self;if(b.AMP_MODE)var c=b.AMP_MODE;else{c=b;var d=self.AMP_CONFIG||{},e=!!d.test||!1,g=w(c.location.originalHash||c.location.hash);d=d.spt;var h=w(c.location.search);x||(x=c.AMP_CONFIG&&c.AMP_CONFIG.v?c.AMP_CONFIG.v:"011902081532110");c=b.AMP_MODE={localDev:!1,development:!("1"!=g.development&&!c.AMP_DEV_MODE),examiner:"2"==g.development,filter:g.filter,geoOverride:g["amp-geo"],minified:!0,lite:void 0!=h.amp_lite,test:e,log:g.log,version:"1902081532110",rtvVersion:x,
singlePassType:d}}return c};self.log=self.log||{user:null,dev:null,userForEmbed:null};var z=self.log;function A(){if(!z.user)throw Error("failed to call initLogConstructor");return z.user};function da(a){var b,c=a.ownerDocument.defaultView,d=c!=(c.__AMP_TOP||c);if(d){if(B(c,"action")){var e=C(c,"action");if(e)return e}if(!b)return null}a=D(a);a=E(a);return B(a,"action")?C(a,"action"):null}function F(a,b){a=a.__AMP_TOP||a;return C(a,b)}function G(a,b){var c=D(a);c=E(c);return C(c,b)}function D(a){return a.nodeType?F((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function E(a){a=D(a);return a.isSingleDoc()?a.win:a}
function C(a,b){B(a,b);var c=a.services;c||(c=a.services={});var d=c;a=d[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function B(a,b){a=a.services&&a.services[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var ea=Object.prototype.hasOwnProperty;function H(){var a,b=Object.create(null);a&&Object.assign(b,a);return b}function I(a){return a||{}};function fa(a){a.parentElement&&a.parentElement.removeChild(a)}function ga(a,b){for(var c,d=a;d&&d!==c;d=d.parentElement)if(b(d))return d;return null}function J(a){return a.closest?a.closest(".i-amphtml-fie"):ga(a,function(a){var b=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;return b?b.call(a,".i-amphtml-fie"):!1})};function K(a,b){var c,d=this;this.sa=F(a,"timer");this.wa=b;this.va=c||0;this.L=-1;this.aa=0;this.fa=!1;this.ta=function(){return d.U()}}K.prototype.isPending=function(){return-1!=this.L};K.prototype.schedule=function(a){var b=a||this.va;this.fa&&10>b&&(b=10);var c=Date.now()+b;return!this.isPending()||-10>c-this.aa?(this.cancel(),this.aa=c,this.L=this.sa.delay(this.ta,b),!0):!1};K.prototype.U=function(){this.L=-1;this.aa=0;this.fa=!0;this.wa();this.fa=!1};
K.prototype.cancel=function(){this.isPending()&&(this.sa.cancel(this.L),this.L=-1)};function ha(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c,a))return c;return-1};function ia(a,b,c){var d=Date.now();this.type=a;this.data=b;this.time=d;this.event=c}
function L(a,b){this.w=a;this.c=[];this.H=[];this.m=[];this.h=[];this.j=null;this.Ba=b;this.W=!1;this.U=new K(a.ownerDocument.defaultView,this.na.bind(this));this.pa=new r;this.K=Object.create(null);this.ma=this.Aa.bind(this);this.ka=this.ya.bind(this);this.la=this.za.bind(this);this.ja=this.xa.bind(this);this.w.addEventListener("touchstart",this.ma);this.w.addEventListener("touchend",this.ka);this.w.addEventListener("touchmove",this.la);this.w.addEventListener("touchcancel",this.ja);this.ba=!1}
function ja(a){var b=void 0===b?!1:b;var c=a.__AMP_Gestures;c||(c=new L(a,b),a.__AMP_Gestures=c);return c}f=L.prototype;f.cleanup=function(){this.w.removeEventListener("touchstart",this.ma);this.w.removeEventListener("touchend",this.ka);this.w.removeEventListener("touchmove",this.la);this.w.removeEventListener("touchcancel",this.ja);delete this.w.__AMP_Gestures;this.U.cancel()};f.onGesture=function(a,b){var c=new a(this),d=c.getType(),e=this.K[d];e||(this.c.push(c),e=new r,this.K[d]=e);return e.add(b)};
f.removeGesture=function(a){var b=(new a(this)).getType();if(a=this.K[b]){a.removeAll();a=ha(this.c,function(a){return a.getType()==b});if(0>a)return!1;this.c.splice(a,1);this.m.splice(a,1);this.h.splice(a,1);this.H.splice(a,1);delete this.K[b];return!0}return!1};f.onPointerDown=function(a){return this.pa.add(a)};
f.Aa=function(a){var b=Date.now();this.W=!1;this.pa.fire(a);for(var c=0;c<this.c.length;c++)if(!this.m[c]&&(this.h[c]&&this.h[c]<b&&M(this,c),this.c[c].onTouchStart(a))){var d=c;this.H[d]=!0;this.h[d]=0}N(this,a)};f.za=function(a){for(var b=Date.now(),c=0;c<this.c.length;c++)this.H[c]&&(this.h[c]&&this.h[c]<b?M(this,c):this.c[c].onTouchMove(a)||M(this,c));N(this,a)};
f.ya=function(a){for(var b=Date.now(),c=0;c<this.c.length;c++)if(this.H[c])if(this.h[c]&&this.h[c]<b)M(this,c);else{this.c[c].onTouchEnd(a);var d=!this.h[c],e=this.h[c]<b,g=this.j==this.c[c];g||!d&&!e||M(this,c)}N(this,a)};f.xa=function(a){for(var b=0;b<this.c.length;b++){var c=b;this.m[c]=0;M(this,c)}N(this,a)};
function N(a,b){var c=!!a.j||a.W;a.W=!1;if(!c)for(var d=Date.now(),e=0;e<a.c.length;e++)if(a.m[e]||a.h[e]&&a.h[e]>=d){c=!0;break}c&&(b.stopPropagation(),a.Ba||b.preventDefault());a.ba&&(a.ba=!1,a.na())}
f.na=function(){for(var a=Date.now(),b=-1,c=0;c<this.c.length;c++)if(!this.m[c])this.h[c]&&this.h[c]<a&&M(this,c);else if(-1==b||this.m[c]>this.m[b])b=c;if(-1!=b){var d=0;for(c=0;c<this.c.length;c++)!this.m[c]&&this.H[c]&&(d=Math.max(d,this.h[c]-a));if(2>d){a=b;c=this.c[a];for(var e=0;e<this.c.length;e++)if(e!=a){var g=e;this.m[g]=0;M(this,g)}this.m[a]=0;this.h[a]=0;this.j=c;c.acceptStart()}else this.U.schedule(d)}};function M(a,b){a.H[b]=!1;a.h[b]=0;a.m[b]||a.c[b].acceptCancel()}
function O(a,b){this.Ca=a;this.T=b}f=O.prototype;f.getType=function(){return this.Ca};f.signalReady=function(a){var b=this.T;if(b.j)this.acceptCancel();else{for(var c=Date.now(),d=0;d<b.c.length;d++)b.c[d]==this&&(b.m[d]=c+a,b.h[d]=0);b.ba=!0}};f.signalPending=function(a){var b=this.T;if(b.j)this.acceptCancel();else for(var c=Date.now(),d=0;d<b.c.length;d++)b.c[d]==this&&(b.h[d]=c+a)};f.signalEnd=function(){var a=this.T;a.j==this&&(a.j=null,a.W=!0)};
f.signalEmit=function(a,b){var c=this.T.K[this.getType()];c&&c.fire(new ia(this.getType(),a,b))};f.acceptStart=function(){};f.acceptCancel=function(){};f.onTouchStart=function(){return!1};f.onTouchMove=function(){return!1};f.onTouchEnd=function(){};function ka(a,b,c){1>b&&(b=1);var d=a/b,e=.5+Math.min(b/33.34,.5);return d*e+c*(1-e)};function P(a,b,c,d){O.call(this,a,b);this.R=c;this.V=d;this.j=!1;this.J=this.I=this.ca=this.S=this.ra=this.ea=this.da=this.D=this.C=this.G=this.F=0}q(P,O);f=P.prototype;f.onTouchStart=function(a){a=a.touches;return this.j&&a&&1<a.length?!0:a&&1==a.length?(this.ra=Date.now(),this.F=a[0].clientX,this.G=a[0].clientY,!0):!1};
f.onTouchMove=function(a){var b=a.touches;if(b&&1<=b.length){var c=b[0];b=c.clientX;c=c.clientY;this.C=b;this.D=c;if(this.j)Q(this,!1,!1,a);else if(a=Math.abs(b-this.F),b=Math.abs(c-this.G),this.R&&this.V)(8<=a||8<=b)&&this.signalReady(-10);else if(this.R)if(8<=a&&a>b)this.signalReady(-10);else{if(8<=b)return!1}else if(this.V)if(8<=b&&b>a)this.signalReady(-10);else{if(8<=a)return!1}else return!1;return!0}return!1};
f.onTouchEnd=function(a){var b=a.touches;b&&0==b.length&&this.j&&(this.j=!1,Q(this,!1,!0,a),this.signalEnd())};f.acceptStart=function(){this.j=!0;this.da=this.F;this.ea=this.G;this.ca=this.ra;this.F=this.C;this.G=this.D;Q(this,!0,!1,null)};f.acceptCancel=function(){this.j=!1};
function Q(a,b,c,d){a.S=Date.now();var e=a.S-a.ca;if(!c&&4<e||c&&16<e)a.I=ka(a.C-a.da,e,a.I),a.J=ka(a.D-a.ea,e,a.J),a.I=1E-4<Math.abs(a.I)?a.I:0,a.J=1E-4<Math.abs(a.J)?a.J:0,a.da=a.C,a.ea=a.D,a.ca=a.S;a.signalEmit({first:b,last:c,time:a.S,deltaX:a.R?a.C-a.F:0,deltaY:a.V?a.D-a.G:0,startX:a.F,startY:a.G,lastX:a.C,lastY:a.D,velocityX:a.R?a.I:0,velocityY:a.V?a.J:0},d)}function la(a){P.call(this,"swipe-xy",a,!0,!0)}q(la,P);var R,ma="Webkit webkit Moz moz ms O o".split(" ");function na(a,b,c){if(2>b.length?0:0==b.lastIndexOf("--",0))return b;R||(R=H());var d=R[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var g=0;g<ma.length;g++){var h=ma[g]+e;if(void 0!==a[h]){e=h;break a}}e=""}var k=e;void 0!==a[k]&&(d=k)}c||(R[b]=d)}return d}function oa(a,b){a=a.style;for(var c in b)a.setProperty(na(a,c),b[c].toString(),"important")}
function S(a,b,c){var d;(b=na(a.style,b,void 0))&&(a.style[b]=d?c+d:c)}function T(a,b){for(var c in b)S(a,c,b[c])}function U(a){if("display"in a){if(z.dev)var b=z.dev;else throw Error("failed to call initLogConstructor");b.error("STYLE","`display` style detected in styles. You must use toggle instead.")}return a}function pa(a){var b=!0;void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")}
function qa(a){for(var b=["transition"],c=0;c<b.length;c++)S(a,b[c],null)};var V;function ra(a,b){var c=void 0,d=a,e=b;var g=function(a){try{return e(a)}catch(u){throw self.reportError(u),u;}};var h=sa(),k=!1;c&&(k=c.capture);d.addEventListener("click",g,h?c:k);return function(){d&&d.removeEventListener("click",g,h?c:k);g=d=e=null}}function sa(){if(void 0!==V)return V;V=!1;try{var a={get capture(){V=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return V};function ta(a,b){var c=b,d=ra(a,function(a){try{c(a)}finally{c=null,d()}})};function ua(a,b){function c(){d=0;var h=500-(a.Date.now()-e);if(0<h)d=a.setTimeout(c,h);else{var k=g;g=null;b.apply(null,k)}}var d=0,e=0,g=null;return function(b){for(var k=[],h=0;h<arguments.length;++h)k[h-0]=arguments[h];e=a.Date.now();g=k;d||(d=a.setTimeout(c,500))}};var W;function va(a){a=a.ownerDocument||a;W&&W.ownerDocument===a||(W=a.createElement("div"));return wa}function wa(a){W.innerHTML=a[0];var b=W.firstElementChild;W.removeChild(b);return b};var xa=['\n    <i-amphtml-ad-close-header role=button tabindex=0 aria-label="Close Ad">\n      <div>Ad</div>\n      <i-amphtml-ad-close-button class="amp-ad-close-button">\n      </i-amphtml-ad-close-button>\n    </i-amphtml-ad-close-header>'];xa.raw=['\n    <i-amphtml-ad-close-header role=button tabindex=0 aria-label="Close Ad">\n      <div>Ad</div>\n      <i-amphtml-ad-close-button class="amp-ad-close-button">\n      </i-amphtml-ad-close-button>\n    </i-amphtml-ad-close-header>'];
var X={"fade-in":{openStyle:I({opacity:1}),closedStyle:I({opacity:0}),durationSeconds:.1},"fly-in-bottom":{openStyle:I({transform:"translate(0, 0)"}),closedStyle:I({transform:"translate(0, 100%)"}),durationSeconds:.2},"fly-in-top":{openStyle:I({transform:"translate(0, 0)"}),closedStyle:I({transform:"translate(0, -100%)"}),durationSeconds:.2}};
function Y(a){var b=AMP.BaseElement.call(this,a)||this;b.ha=null;b.o=null;b.ia=null;b.Y=null;b.$=-1;b.M=!1;b.O=null;b.B=!1;b.A=0;b.oa=0;b.Z=0;b.ga=null;b.N=(a.getAttribute("animate-in")||"fade-in").toLowerCase();b.P=null;b.X=ua(b.win,function(){var a=A().assertElement(b.o,"E#19457 this.container_");b.scheduleLayout(a);b.scheduleResume(a)});return b}q(Y,AMP.BaseElement);f=Y.prototype;
f.buildCallback=function(){var a=this;this.user().assert(ea.call(X,this.N),"Invalid `animate-in` value %s",this.N);this.element.classList.add("i-amphtml-overlay");this.ia=da(this.element);ya(this);this.registerDefaultAction(function(){return za(a)},"open");this.registerAction("close",this.close.bind(this))};function Aa(a){Ba(a,!0).forEach(function(b){a.setAsOwner(b)})}
function Ba(a,b){if(!a.Y||b){var c=a.element.getElementsByClassName("i-amphtml-element");a.Y=c?Array.prototype.slice.call(c):[]}return a.Y}
function Ca(a){if(!a.o){var b=a.element;a.B=b.hasAttribute("scrollable");var c=a.getRealChildren();a.o=b.ownerDocument.createElement("div");a.B||a.applyFillContent(a.o);b.appendChild(a.o);c.forEach(function(b){a.o.appendChild(b)});a.B&&(Aa(a),b.classList.add("i-amphtml-scrollable"),b.addEventListener("amp:dom-update",function(){Aa(a);Z(a,a.A,a.A)}),b.addEventListener("scroll",a.qa.bind(a)));if(!a.B){var d=ja(b);d.onGesture(la,function(){})}}}f.layoutCallback=function(){return Promise.resolve()};
function za(a){a.M||(Ca(a),a.O=a.ua.bind(a),a.win.document.documentElement.addEventListener("keydown",a.O),a.getViewport().enterLightboxMode(a.element).then(function(){return Da(a)}))}f.mutatedAttributesCallback=function(a){var b=a.open;void 0!==b&&(b?za(this):this.close())};function Ea(a){var b=a.o.querySelector("[autofocus]");if(b)try{b.focus()}catch(c){}}
function Da(a){var b=a.element,c=X[a.N],d=c.durationSeconds,e=c.openStyle,g=c.closedStyle,h=Object.keys(e).map(function(a){return a+" "+d+"s ease-in"}).join(",");a.Z++;a.B&&S(b,"webkitOverflowScrolling","touch");S(b,"transition",h);T(b,U(g));pa(b);a.mutateElement(function(){b.scrollTop=0});Ea(a);Fa(a);a.mutateElement(function(){T(b,U(e))});c=a.o;a.B?(a.qa(),Z(a,a.A,a.A)):a.updateInViewport(c,!0);b.addEventListener("transitionend",a.X);b.addEventListener("animationend",a.X);a.scheduleLayout(c);a.scheduleResume(c);
Ga(a,"lightboxOpen");G(a.getAmpDoc(),"history").push(a.close.bind(a)).then(function(b){a.$=b});a.M=!0}function Fa(a){var b=a.element;if(null!=b.getAttribute("close-button")){var c=va(b)(xa);a.P=c;ta(c,function(){return a.close()});b.insertBefore(c,a.o);var d;a.measureMutateElement(function(){d=c.getBoundingClientRect().height},function(){c.classList.add("amp-ad-close-header");oa(a.o,{"margin-top":d+"px","min-height":"calc(100vh - "+(d+"px")+")"})})}}
f.ua=function(a){"Escape"==a.key&&(a.preventDefault(),this.close())};f.close=function(){var a=this;this.M&&(this.B&&S(this.element,"webkitOverflowScrolling",""),this.P&&(fa(this.P),this.P=null),this.getViewport().leaveLightboxMode(this.element).then(function(){return Ha(a)}))};
function Ha(a){function b(){d==a.Z&&(a.collapse(),a.X())}var c=a.element,d=++a.Z;Ia(a)?(qa(c),b()):(c.addEventListener("transitionend",b),c.addEventListener("animationend",b));T(c,U(X[a.N].closedStyle));-1!=a.$&&G(a.getAmpDoc(),"history").pop(a.$);a.win.document.documentElement.removeEventListener("keydown",a.O);a.O=null;a.schedulePause(a.o);a.M=!1;Ga(a,"lightboxClose")}function Ia(a){return"inabox"==y(a.win).runtime||!!J(a.element)}
f.qa=function(){var a=this.element.scrollTop||1;this.A=this.element.scrollTop=a;null===this.ga&&Ja(this,a)};function Ja(a,b){a.ga=F(a.win,"timer").delay(function(){if(30>Math.abs(b-a.A)){a.ga=null;var c=a.A;Z(a,c,a.oa);a.oa=c;a.A=c}else Ja(a,a.A)},100)}function Z(a,b,c){var d=[];Ka(a,b,function(b){d.push(b);a.updateInViewport(b,!0);a.scheduleLayout(b)});c!=b&&Ka(a,c,function(b){d.includes(b)||a.updateInViewport(b,!1)})}
function Ka(a,b,c){a.ha||(a.ha={width:a.element.clientWidth,height:a.element.clientHeight});for(var d=a.ha.height,e=Ba(a),g=0;g<e.length;g++){for(var h=e[g],k=0,t=h;t&&a.element.contains(t);t=t.offsetParent)k+=t.offsetTop;var u=2*d;k+h.offsetHeight>=b-u&&k<=b+u&&c(h)}}function ya(a){var b=a.win;J(a.element)&&La(b,b.document.body)}
function Ga(a,b){var c=a.win;var d="amp-lightbox."+b;var e=I({}),g={detail:e};Object.assign(g,void 0);"function"==typeof c.CustomEvent?d=new c.CustomEvent(d,g):(c=c.document.createEvent("CustomEvent"),c.initCustomEvent(d,!!g.bubbles,!!g.cancelable,e),d=c);a.ia.trigger(a.element,b,d,100)}
function La(a,b){var c={},d=F(a,"ampdoc").getAmpDoc();G(d,"resources").measureMutateElement(b,function(){c.alreadyTransparent="rgba(0, 0, 0, 0)"==(a.getComputedStyle(b)||H())["background-color"]},function(){c.alreadyTransparent||A().warn("amp-lightbox","The background of the <body> element has been forced to transparent. If you need to set background, use an intermediate container.");oa(b,{background:"transparent"})})}
(function(a){"inabox"==y().runtime&&La(window,document.body);a.registerElement("amp-lightbox",Y,"amp-lightbox{display:none;position:fixed!important;z-index:1000;top:0!important;left:0!important;bottom:0!important;right:0!important}amp-lightbox[scrollable]{overflow-y:auto!important;overflow-x:hidden!important}i-amphtml-ad-close-header{height:60px!important;display:block!important;visibility:visible!important;opacity:0;position:fixed!important;top:0!important;left:0!important;right:0!important;z-index:1000!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:right!important;-ms-flex-pack:right!important;justify-content:right!important;-webkit-transition:opacity 0.1s ease-in;transition:opacity 0.1s ease-in}[animate-in=fly-in-bottom]>i-amphtml-ad-close-header,[animate-in=fly-in-top]>i-amphtml-ad-close-header{-webkit-transition-delay:0.2s;transition-delay:0.2s}.amp-ad-close-header{opacity:1!important;box-sizing:border-box;padding:5px;line-height:40px;background-color:#000;color:#fff;font-family:Helvetica,sans-serif;font-size:12px;cursor:pointer}.amp-ad-close-header>:first-child{margin-left:auto!important;pointer-events:none!important}.amp-ad-close-button{display:block!important;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\") no-repeat;background-position:50%;width:40px;height:40px;pointer-events:none!important;border-radius:40px;margin-left:5px}.amp-ad-close-header:active>.amp-ad-close-button{background-color:hsla(0,0%,100%,0.3)}\n/*# sourceURL=/extensions/amp-lightbox/0.1/amp-lightbox.css*/")})(self.AMP);
})});
//# sourceMappingURL=amp-lightbox-0.1.js.map

